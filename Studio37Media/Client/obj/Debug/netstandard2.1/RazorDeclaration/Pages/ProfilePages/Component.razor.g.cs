#pragma checksum "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\Pages\ProfilePages\Component.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bc2f91e48a4ac8822663690f336dc55ecad30ac4"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace Studio37Media.Client.Pages.ProfilePages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Studio37Media.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using Studio37Media.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using System.IO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\_Imports.razor"
using System.IO.MemoryMappedFiles;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/FileUploadd")]
    public partial class Component : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 36 "D:\AuctionProp\AuctionPortal\Studio37FirstCurrent\Studio37Media\Client\Pages\ProfilePages\Component.razor"
       

    string status;
    string imageDataURL = "";
    string fileTextContents = "";
    IFileListEntry[] file;

    async Task HandleSelection(IFileListEntry[] files)
    {
        imageDataURL = "";
        fileTextContents = "";
        var file = files.FirstOrDefault();

        if (file != null)
        {
            //check to see if the file is an image or a text file
            var fileType = GetFileType(file.Name);

            if (fileType == "image")
            {

                var ms = new MemoryStream();

                await file.Data.CopyToAsync(ms);

                string imageBase64Data = Convert.ToBase64String(ms.ToArray());

                imageDataURL = string.Format("data:image/png;base64,{0}", imageBase64Data);

                
                    Console.WriteLine("Workking");

               /* using (FileStream newFile = new FileStream("wwwroot\\uploads\\" + file.Name, FileMode.Create, FileAccess.Write))

                {

                    ms.WriteTo(newFile);
                    Console.WriteLine("Workking");

                }*/

            }

            else if (fileType == "text")

            {

                using (var reader = new StreamReader(file.Data))

                {

                    fileTextContents = await reader.ReadToEndAsync();



                }
                
           

            }

        }



        status = $"Finished loading {file.Size} bytes from {file.Name}";

    }



    private string GetFileType(string name)

    {

        string result = "";

        if (name.Contains("png") || name.Contains("jpg") || name.Contains("gif"))

        {

            result = "image";

        }

        else if (name.Contains("txt"))

        {

            result = "text";

        }

        return result;

    }


#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
